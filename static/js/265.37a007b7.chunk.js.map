{"version":3,"file":"static/js/265.37a007b7.chunk.js","mappings":"ySAGMA,G,QAAY,SAAAC,GAAM,OACrBC,IAAAA,SAAAA,QAAA,kBACID,GADJ,IAECE,QAAS,uCAIbD,IAAAA,SAAAA,QAAyB,+BAClB,IAAME,EAAY,WAEvB,OADAJ,IACOE,IAAAA,IACA,uBACJG,MAAK,SAAAC,GAEJ,OAAOA,EAAIC,KAAKC,WAEjBC,OAAM,SAAAC,GACL,MAAMA,MAKCC,EAAmB,SAAAC,GAE9B,OADAZ,EAAU,CAAEY,MAAAA,IACLV,IAAAA,IACA,iBACJG,MAAK,SAAAC,GAEJ,IAAKA,EAAIC,KAAKC,QAAQK,OACpB,MAAM,IAAIC,MAAM,aAGlB,OAAOR,EAAIC,KAAKC,WAEjBC,OAAM,SAAAC,GACL,MAAMA,MAKCK,EAAoB,SAAAC,GAE/B,OADAhB,EAAU,CAAEgB,SAAAA,IACLd,IAAAA,IAAA,iBACUc,IACdX,MAAK,SAAAC,GAEJ,OAAOA,EAAIC,QAEZE,OAAM,SAAAC,GACL,MAAMA,MAKCO,EAAiB,SAAAD,GAE5B,OADAhB,EAAU,CAAEgB,SAAAA,IACLd,IAAAA,IAAA,iBACUc,EADV,aAEJX,MAAK,SAAAC,GAEJ,OAAOA,EAAIC,KAAKW,QAEjBT,OAAM,SAAAC,GACL,MAAMA,MAKCS,EAAoB,SAAAH,GAE/B,OADAhB,EAAU,CAAEgB,SAAAA,IACLd,IAAAA,IAAA,iBACUc,EADV,aAEJX,MAAK,SAAAC,GAEJ,OAAOA,EAAIC,KAAKC,WAEjBC,OAAM,SAAAC,GACL,MAAMA,O,iFC3ENU,GAAeC,EAAAA,EAAAA,OAAK,kBACxB,iCAEIC,GAAkBD,EAAAA,EAAAA,OAAK,kBAC3B,iCAEIE,GAAsBF,EAAAA,EAAAA,OAAK,kBAC/B,iCAiDF,UA5CA,WACE,IAAMG,GAAUC,EAAAA,EAAAA,MACVC,GAAWC,EAAAA,EAAAA,MACTC,GAAYC,EAAAA,EAAAA,MAAZD,QACAE,GAASC,EAAAA,EAAAA,MAATD,KACR,GAA0BE,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KAWA,OATAC,EAAAA,EAAAA,YAAU,YACRpB,EAAAA,EAAAA,IAAkBqB,OAAOR,IAAUvB,MAAK,SAAAE,GAAI,OAAI2B,EAAS3B,QACxD,CAACqB,KAQF,8BACGK,IACC,iCACE,mBACEI,KAAK,SACLC,QAVW,WACnBd,EAAQe,KAAKb,EAASc,MAAMC,OAUpBC,MAAO,CAAEC,QAAS,QAASC,OAAQ,OAHrC,sBAQA,UAAC,EAAAC,SAAD,CAAUC,UAAU,uCAApB,WACE,SAACvB,EAAD,CAAqBU,MAAOA,KAE5B,SAAC,KAAD,CAAOH,KAAI,UAAKA,EAAL,SAAX,UACE,SAACV,EAAD,CAAcQ,QAASA,OAEzB,SAAC,KAAD,CAAOE,KAAI,UAAKA,EAAL,YAAX,UACE,SAACR,EAAD,CAAiBM,QAASA","sources":["utils/FetchApi.jsx","views/MovieDetailsPage.jsx"],"sourcesContent":["import axios from 'axios';\nexport * from '../utils/FetchApi';\n\nconst setParams = params =>\n  (axios.defaults.params = {\n    ...params,\n    api_key: 'b2c3269bd358b01baf914c84972bca6a',\n  });\n//===================================================================\n// /trending/get-trending список самых популярных фильмов на сегодня для создания коллекции на главной странице.\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nexport const GetMovies = () => {\n  setParams();\n  return axios\n    .get('/trending/movie/day')\n    .then(res => {\n      // console.log('res :>> ', res.data.results);\n      return res.data.results;\n    })\n    .catch(err => {\n      throw err;\n    });\n};\n\n// /search/search-movies поиск кинофильма по ключевому слову на странице фильмов.\nexport const FetchMovieByName = query => {\n  setParams({ query });\n  return axios\n    .get('/search/movie')\n    .then(res => {\n      // console.log('FetchMovieByName :>> ', res.data.results);\n      if (!res.data.results.length) {\n        throw new Error('Not found');\n      }\n      // console.log('FetchMovieByName :>> ', res.data.results);\n      return res.data.results;\n    })\n    .catch(err => {\n      throw err;\n    });\n};\n\n// /movies/get-movie-details запрос полной информации о фильме для страницы кинофильма.\nexport const FetchMovieDetails = movie_id => {\n  setParams({ movie_id });\n  return axios\n    .get(`/movie/${movie_id}`)\n    .then(res => {\n      // console.log('FetchMovieDetails :>> ', res.data);\n      return res.data;\n    })\n    .catch(err => {\n      throw err;\n    });\n};\n\n// /movies/get-movie-credits запрос информации о актёрском составе для страницы кинофильма.\nexport const FetchMovieCast = movie_id => {\n  setParams({ movie_id });\n  return axios\n    .get(`/movie/${movie_id}/credits`)\n    .then(res => {\n      // console.log('FetchMovieCast :>> ', res.data.cast);\n      return res.data.cast;\n    })\n    .catch(err => {\n      throw err;\n    });\n};\n\n// /movies/get-movie-reviews запрос обзоров для страницы кинофильма.\nexport const FetchMovieReviews = movie_id => {\n  setParams({ movie_id });\n  return axios\n    .get(`/movie/${movie_id}/reviews`)\n    .then(res => {\n      // console.log('FetchMovieReviews :>> ', res.data.results);\n      return res.data.results;\n    })\n    .catch(err => {\n      throw err;\n    });\n};\n","import { useState, useEffect, lazy, Suspense } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useRouteMatch, Route, useParams } from 'react-router-dom';\nimport { FetchMovieDetails } from 'utils/FetchApi';\n\nconst OneMovieCast = lazy(() =>\n  import('./OneMovieCast.jsx' /* webpackChunkName :\"one-movies-cast\" */)\n);\nconst OneMovieReviews = lazy(() =>\n  import('./OneMovieReviews.jsx' /* webpackChunkName :\"one-movies-reviews\" */)\n);\nconst OneMovieViewDetails = lazy(() =>\n  import(\n    './OneMovieViewDetails.jsx' /* webpackChunkName :\"one-movie-details-page\" */\n  )\n);\n\nfunction OneMovieView() {\n  const history = useHistory();\n  const location = useLocation();\n  const { movieId } = useParams();\n  const { path } = useRouteMatch();\n  const [movie, setMovie] = useState(null);\n\n  useEffect(() => {\n    FetchMovieDetails(Number(movieId)).then(data => setMovie(data));\n  }, [movieId]);\n  // console.log('movieDetails :>> ', movie);\n\n  const handleGoBack = () => {\n    history.push(location.state.from);\n    // history.goBack();\n  };\n  return (\n    <>\n      {movie && (\n        <>\n          <button\n            type=\"button\"\n            onClick={handleGoBack}\n            style={{ display: 'block', margin: '5px' }}\n          >\n            Go Back\n          </button>\n\n          <Suspense fallback={<h1>LOADING...</h1>}>\n            <OneMovieViewDetails movie={movie} />\n\n            <Route path={`${path}/cast`}>\n              <OneMovieCast movieId={movieId} />\n            </Route>\n            <Route path={`${path}/reviews`}>\n              <OneMovieReviews movieId={movieId} />\n            </Route>\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default OneMovieView;\n"],"names":["setParams","params","axios","api_key","GetMovies","then","res","data","results","catch","err","FetchMovieByName","query","length","Error","FetchMovieDetails","movie_id","FetchMovieCast","cast","FetchMovieReviews","OneMovieCast","lazy","OneMovieReviews","OneMovieViewDetails","history","useHistory","location","useLocation","movieId","useParams","path","useRouteMatch","useState","movie","setMovie","useEffect","Number","type","onClick","push","state","from","style","display","margin","Suspense","fallback"],"sourceRoot":""}